76~80
========================
76.You have built a web application with tight security. Several directories of your webapp are used for internal purposes and you have overridden the default servlet to send an HTTP 403 status code for any request that maps to one of these directories. During testing, the Quality Assurance director decided that they did NOT like seeing the bare response page generated by Firefox and Internet Explorer. The director recommended that the webapp should return a more user-friendly web page that has the same look-and-feel as the webapp plus links to the webapp's search engine. You have created this JSP page in the /WEB-INF/jsps/error403.jsp file. You do NOT want to alter the complex logic of the default servlet. How can you declare that the web container must send this JSP page whenever a 403 status is generated?

A.   

```xml
<error-page> 
	<error-code>403</error-code> 
	<url>/WEB-INF/jsps/error403.jsp</url> 
</error-page> 
```

B.   

```xml
<error-page> 
	<status-code>403</status-code> 
	<url>/WEB-INF/jsps/error403.jsp</url> 
</error-page> 
```

C.   

```xml
<error-page> 
	<error-code>403</error-code> 
	<location>/WEB-INF/jsps/error403.jsp</location> 
</error-page> 
```

D.   

```xml
<error-page> 
	<status-code>403</status-code> 
	<location>/WEB-INF/jsps/error403.jsp</location> 
</error-page>
```

<!--sec data-title="解析" data-id="section76_2" data-collapse=true ces-->
答案：C

備註：在部署描述檔中設定錯誤頁面有兩種寫法

1.針對例外錯誤

```xml
<error-page>
  <exception-type>java.lang.Throwable</exception-type>
  <location>/errorPage.jsp</location>
</error-page>
```

2.針對HTTP狀態代碼

```xml
<error-page>
  <error-code>404</error-code>
  <location>/notFoundError.jsp</location>
</error-page>
```

相關說明：

講義 ch5(p.100~p.104)

Head First Servlets&JSP ch11 Web應用程式部署(p.626)

Servlet&JSP教學手冊 ch6 使用JSP(p.6-28~p.6-29)

猛虎出閘尊爵版 ch4 Web應用程式目錄結構與部署(p.4-13)
<!--endsec-->

---
77.You want to create a valid directory structure for your Java EE web application, and your application uses tag files and a JAR file. Which three must be located directly in your WEB-INF directory (NOT in a subdirectory of WEB-INF)? (Choose three.)

A.   The JAR file 

B.   A directory called lib 

C.   A directory called tags 

D.   A directory called TLDs 

E.   A directory called classes

F.   A directory called META-INF

<!--sec data-title="解析" data-id="section77_2" data-collapse=true ces-->
答案：B、C、E

備註：以Head First Servlets&JSP上的圖來說明

![1504619825042](/media/6515.jpeg)

tags、lib、classes三個目錄都需要放在WEB-INF底下，TLDs這個名稱其實可以自己取，JAR檔是放在lib底下，META-INF和WEB-INF是同階層的，或是放在JAR檔當中

相關說明：

Head First Servlets&JSP ch11 Web應用程式部署(p.613)

Servlet&JSP教學手冊 ch2 撰寫與設定Servlet(p.2-20~p.2-22)

猛虎出閘尊爵版 ch4 Web應用程式目錄結構與部署(p.4-3)
<!--endsec-->

---
78.Given: 

```java
11. public class MyServlet extends HttpServlet { 
12.   public void service(HttpServletRequest request, 
13.                        HttpServletResponse response) 
14.          throws ServletException, IOException { 
15.     // insert code here 
16.   } 
17. } 
```

and this element in the web application's deployment descriptor: 

```xml
<error-page> 
	<error-code>302</error-code> 
	<location>/html/error.html</location> 
</error-page> 
```

Which, inserted at line 15, causes the container to redirect control to the error.html resource?

A.   `response.setError(302); `

B.   `response.sendError(302); `

C.   `response.setStatus(302); `

D.   `response.sendRedirect(302); `

E.   `response.sendErrorRedirect(302);`

<!--sec data-title="解析" data-id="section78_2" data-collapse=true ces-->
答案：B

備註：HttpServletResponse的sendError可以讓容器代為產生錯誤頁面，如果部署描述檔有設定對應錯誤頁面時則會交給該頁面處理

相關說明：

講義 ch5(p.100)

Head First Servlets&JSP ch11 Web應用程式部署(p.626~p.627)

Servlet&JSP教學手冊 ch6 使用JSP(p.6-29)

猛虎出閘尊爵版 ch3 Servlet技術模型(p.3-12)
<!--endsec-->

---
79.Which element of the web application deployment descriptor defines the servlet class associated with a servlet instance?

A.   `<class> `

B.   `<webapp> `

C.   `<servlet> `

D.   `<codebase>` 

E.   `<servlet-class> `

F.   `<servlet-mapping>`

<!--sec data-title="解析" data-id="section79_2" data-collapse=true ces-->
答案：E

備註：設定Servlet實體對應的類別名稱，是使用 `<servlet-class>`標籤

相關說明：

講義 ch2(p.38)

Head First Servlets&JSP ch2 高階架構(p.48)

Servlet&JSP教學手冊 ch2 撰寫與設定Servlet(p.2-13)

猛虎出閘尊爵版 ch4 Web應用程式目錄結構與部署(p.4-8)
<!--endsec-->

---
80.Within the web application deployment descriptor, which defines a valid JNDI environment entry?

A.   

```xml
<env-entry> 
	<env-entry-type>java.lang.Boolean</env-entry-type> 
	<env-entry-value>true</env-entry-value> 
</env-entry> 
```

B.   

```xml
<env-entry> 
	<env-entry-name>param/MyExampleString</env-entry-name> 
	<env-entry-value>This is an Example</env-entry-value> 
</env-entry> 
```

C.   

```xml
<env-entry> 
	<env-entry-name>param/MyExampleString</env-entry-name> 
	<env-entry-type>int</env-entry-type> 
	<env-entry-value>10</env-entry-value> 
</env-entry> 
```

D.   

```xml
<env-entry> 
	<env-entry-name>param/MyExampleString</env-entry-name> 
	<env-entry-type>java.lang.String</env-entry-type> 
	<env-entry-value>This is an Example</env-entry-value> 
</env-entry>
```

<!--sec data-title="解析" data-id="section80_2" data-collapse=true ces-->
答案：D

備註：`<env-entry>`底下可包含的子標籤

|標籤名稱|出現次數|說明|
|-----|-----|-----|
|`<env-entry-name>`|1|環境組態變數名稱(在程式碼會用到的查詢名稱)|
|`<env-entry-type>`|1|環境組態之Java資料型別，只能是八大基本資料型別的包裝類別及字串|
|`<env-entry-value>`|0~1|環境組態內容值|


相關說明：

Head First Servlets&JSP ch11 Web應用程式部署(p.632)

猛虎出閘尊爵版 ch4 Web應用程式目錄結構與部署(p.4-14)
<!--endsec-->

